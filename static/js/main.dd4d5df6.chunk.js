(this["webpackJsonpsnake-game"]=this["webpackJsonpsnake-game"]||[]).push([[0],{27:function(e,t,n){e.exports=n(36)},32:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(19),s=n.n(o),c=(n(32),n(20)),i=n(7),u=n(8),d=n(10),l=n(9),h=n(2),f=n(11),p=n(16),v=n(3);function m(){var e=Object(h.a)(["\n  position: absolute;\n  width: 2%;\n  height: 2%;\n  background-color: #000;\n  border: 1px solid #fff;\n  z-index: 2;\n"]);return m=function(){return e},e}var k=v.a.div(m());function b(e){return r.a.createElement("div",{className:"snake"},e.snakeDots.map((function(e,t){var n={left:"".concat(e[0],"%"),top:"".concat(e[1],"%")};return r.a.createElement(k,{key:t,style:n})})))}function g(){var e=Object(h.a)(["\n  position: absolute;\n  width: 2%;\n  height: 2%;\n  background-color: red;\n  border: 1px solid #fff;\n  z-index: 1;\n"]);return g=function(){return e},e}var O=v.a.div(g());var y=function(e){return r.a.createElement("div",{className:"foods"},e.dots.map((function(e,t){var n={left:"".concat(e[0],"%"),top:"".concat(e[1],"%")};return r.a.createElement(O,{className:"food",key:t,style:n})})))};function E(){var e=Object(h.a)(["\n  position: relative;\n  margin: 50px auto;\n  width: 500px;\n  height: 500px;\n  border: 2px solid black;\n  background-color: bisque;\n"]);return E=function(){return e},e}var j=v.a.div(E()),S=function(){return[2*Math.floor((98*Math.random()+1)/2),2*Math.floor((98*Math.random()+1)/2)]},w={foods:[S()],speed:200,direction:"RIGHT",snakeDots:[[0,0],[2,0],[4,0]]},x=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state=Object(p.a)(Object(p.a)({},w),{},{randomRate:500}),e.onKeyDown=function(t){switch((t=t||window.event).keyCode){case 87:case 38:"DOWN"!==e.state.direction&&e.setState({direction:"UP"});break;case 83:case 40:"UP"!==e.state.direction&&e.setState({direction:"DOWN"});break;case 68:case 39:"LEFT"!==e.state.direction&&e.setState({direction:"RIGHT"});break;case 65:case 37:"RIGHT"!==e.state.direction&&e.setState({direction:"LEFT"})}},e.moveSnake=function(){var t=Object(f.a)(e.state.snakeDots),n=t[t.length-1];switch(e.state.direction){case"RIGHT":n=[n[0]+2,n[1]];break;case"LEFT":n=[n[0]-2,n[1]];break;case"DOWN":n=[n[0],n[1]+2];break;case"UP":n=[n[0],n[1]-2]}t.push(n),t.shift(),e.setState({snakeDots:t})},e.onGameOver=function(){e.resetGameState(),e.props.onScoreReset()},e.onRandomEvent=function(){Math.random()<.1&&e.onFoodGen()},e.onFoodGen=function(){var t=Object(f.a)(e.state.foods);t.length<e.props.upgrades["Max Food"]&&t.push(e.getRandomCoords_Safe()),e.setState({foods:t})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){setInterval(this.moveSnake,this.state.speed),setInterval(this.onRandomEvent,this.state.randomRate),document.onkeydown=this.onKeyDown}},{key:"componentDidUpdate",value:function(){this.checkIfOutOfBounds(),this.checkIfCollapsed(),this.checkIfEat()}},{key:"checkIfOutOfBounds",value:function(){var e=this.state.snakeDots[this.state.snakeDots.length-1];(e[0]>=100||e[1]>=100||e[0]<0||e[1]<0)&&this.onGameOver()}},{key:"checkIfCollapsed",value:function(){var e=this,t=Object(f.a)(this.state.snakeDots),n=t.pop();t.forEach((function(t){n[0]===t[0]&&n[1]===t[1]&&e.onGameOver()}))}},{key:"checkIfEat",value:function(){for(var e=this.state.snakeDots[this.state.snakeDots.length-1],t=this.state.foods,n=-1,a=0;a<t.length;a++){var r=t[a];r[0]===e[0]&&r[1]===e[1]&&(n=a)}n>-1&&(t.splice(n,1),this.props.onScoreIncrement(),this.growSnake(),this.increaseSpeed())}},{key:"getRandomCoords_Safe",value:function(){for(var e=this,t=!0,n=function(){var n=S();if(Object(f.a)(e.state.snakeDots).forEach((function(e){n[0]===e[0]&&n[1]===e[1]&&(t=!1)})),t)return{v:n}};t;){var a=n();if("object"===typeof a)return a.v}}},{key:"growSnake",value:function(){var e=Object(f.a)(this.state.snakeDots);e.unshift([]),this.setState({snakeDots:e})}},{key:"increaseSpeed",value:function(){this.state.speed>10&&this.setState({speed:this.state.speed-10})}},{key:"resetGameState",value:function(){this.setState(w)}},{key:"render",value:function(){return r.a.createElement(j,{className:"board"},r.a.createElement(b,{snakeDots:this.state.snakeDots}),r.a.createElement(y,{dots:this.state.foods}))}}]),n}(a.Component),D=(n(35),n(25)),I=n(38),N=n(39),R=n(24),G=n(26);function C(){var e=Object(h.a)(["\n  flex: 1;\n  background: teal;\n  overflow-y: scroll;\n  width: 100%;\n"]);return C=function(){return e},e}function F(){var e=Object(h.a)([""]);return F=function(){return e},e}var M=Object(v.a)(G.a)(F()),U=v.a.div(C());var z=function(e){var t=Object.keys(e.upgrades);return r.a.createElement(U,null,t.map((function(t,n){return r.a.createElement(M,{variant:"primary",block:!0,size:"lg",key:n,name:t,onClick:e.onUpgrade},"Upgrade ".concat(t))})))};function T(){var e=Object(h.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 24px;\n  background-color: white;\n  opacity: 0.5;\n  z-index: 0;\n"]);return T=function(){return e},e}function H(){var e=Object(h.a)(["\n  position: relative;\n  width: auto;\n  height: auto;\n  text-align: center;\n  z-index: 1;\n"]);return H=function(){return e},e}var W=v.a.div(H()),B=v.a.div(T()),L=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"shop"},r.a.createElement("div",{className:"food-display-bar"},r.a.createElement(B,null),r.a.createElement(W,null,"Food: ",r.a.createElement(R.a,{variant:"dark"},this.props.score))),r.a.createElement(z,{className:"shop",upgrades:this.props.upgrades,onUpgrade:this.props.upgradeHandler}))}}]),n}(a.Component);function P(){var e=Object(h.a)(["\n  margin: 0;\n  padding: 0;\n"]);return P=function(){return e},e}function A(){var e=Object(h.a)(["\n  border-left: 6px solid black;\n  height: 100%;\n  position: absolute;\n  top: 0;\n"]);return A=function(){return e},e}var J=v.a.div(A()),K=Object(v.a)(I.a)(P()),_=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).incrementScore=function(){a.setState({score:a.state.score+1})},a.resetScore=function(){a.setState({score:0})},a.handleUpgrade=function(e){var t,n=a.state.upgrades,r=Object(c.a)(n);try{for(r.s();!(t=r.n()).done;){var o=t.value;e.target.getAttribute("name")===o[0]&&(o[1]=o[1]+1)}}catch(s){r.e(s)}finally{r.f()}a.setState({upgrades:n})},a.state={score:0,upgrades:{"Max Food":2,u1:0,u2:0,u3:0}},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state.upgrades;return r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,{fluid:!0,style:{backgroundColor:"teal"}},r.a.createElement(N.a,{style:{height:"100vh"}},r.a.createElement(K,{className:"shop-area"},r.a.createElement(L,{score:this.state.score,upgradeHandler:this.handleUpgrade,upgrades:e}),r.a.createElement(J,{style:{right:"0",zIndex:"10",marginRight:"-2px"}})),r.a.createElement(K,{xs:6,className:"game-area no-padding"},r.a.createElement(x,{onScoreIncrement:this.incrementScore,onScoreReset:this.resetScore,upgrades:e})),r.a.createElement(K,{className:"third-area",id:"no-padding"},r.a.createElement(J,{style:{left:"0",zIndex:"10",marginLeft:"-2px"}})))))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(a.StrictMode,null,r.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[27,1,2]]]);
//# sourceMappingURL=main.dd4d5df6.chunk.js.map