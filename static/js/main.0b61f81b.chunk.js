(this["webpackJsonpsnake-game"]=this["webpackJsonpsnake-game"]||[]).push([[0],{24:function(e,t,n){e.exports=n(33)},29:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(18),s=n.n(o),c=(n(29),n(12)),i=n(7),u=n(8),l=n(10),d=n(9),f=n(2),h=n(11),p=n(3);function m(){var e=Object(f.a)(["\n  position: absolute;\n  width: 2%;\n  height: 2%;\n  background-color: #000;\n  border: 1px solid #fff;\n  z-index: 2;\n"]);return m=function(){return e},e}var v=p.a.div(m());function k(e){return r.a.createElement("div",{className:"snake"},e.snakeDots.map((function(e,t){var n={left:"".concat(e[0],"%"),top:"".concat(e[1],"%")};return r.a.createElement(v,{key:t,style:n})})))}function b(){var e=Object(f.a)(["\n  position: absolute;\n  width: 2%;\n  height: 2%;\n  background-color: red;\n  border: 1px solid #fff;\n  z-index: 1;\n"]);return b=function(){return e},e}var g=p.a.div(b());var O=function(e){return r.a.createElement("div",{className:"foods"},e.dots.map((function(e,t){var n={left:"".concat(e[0],"%"),top:"".concat(e[1],"%")};return r.a.createElement(g,{className:"food",key:t,style:n})})))};function E(){var e=Object(f.a)(["\n  position: relative;\n  margin: 50px auto;\n  width: 500px;\n  height: 500px;\n  border: 2px solid black;\n  background-color: bisque;\n"]);return E=function(){return e},e}var y=p.a.div(E()),S=function(){return[2*Math.floor((98*Math.random()+1)/2),2*Math.floor((98*Math.random()+1)/2)]},j={foods:[S()],direction:"RIGHT",snakeDots:[[0,0],[2,0],[4,0]]},w=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state=Object(c.a)(Object(c.a)({},j),{},{randomRate:200}),e.onKeyDown=function(t){switch((t=t||window.event).keyCode){case 87:case 38:"DOWN"!==e.state.direction&&e.setState({direction:"UP"});break;case 83:case 40:"UP"!==e.state.direction&&e.setState({direction:"DOWN"});break;case 68:case 39:"LEFT"!==e.state.direction&&e.setState({direction:"RIGHT"});break;case 65:case 37:"RIGHT"!==e.state.direction&&e.setState({direction:"LEFT"})}},e.moveSnake=function(){var t=Object(h.a)(e.state.snakeDots),n=t[t.length-1];switch(e.state.direction){case"RIGHT":n=[n[0]+2,n[1]];break;case"LEFT":n=[n[0]-2,n[1]];break;case"DOWN":n=[n[0],n[1]+2];break;case"UP":n=[n[0],n[1]-2]}t.push(n),t.shift(),e.setState({snakeDots:t})},e.onGameOver=function(){e.resetGameState()},e.onRandomEvent=function(){Math.random()<.5&&e.onFoodGen()},e.onFoodGen=function(){e.state.foods.length<e.props.upgrades["Max Food"]&&e.setState({foods:[].concat(Object(h.a)(e.state.foods),[e.getRandomCoords_Safe()])})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){setInterval(this.moveSnake,this.calculateSpeed()),setInterval(this.onRandomEvent,this.state.randomRate),document.onkeydown=this.onKeyDown}},{key:"componentDidUpdate",value:function(){this.checkIfOutOfBounds(),this.checkIfCollapsed(),this.checkIfEat()}},{key:"checkIfOutOfBounds",value:function(){var e=this.state.snakeDots[this.state.snakeDots.length-1];(e[0]>=100||e[1]>=100||e[0]<0||e[1]<0)&&this.onGameOver()}},{key:"checkIfCollapsed",value:function(){var e=this,t=Object(h.a)(this.state.snakeDots),n=t.pop();t.forEach((function(t){n[0]===t[0]&&n[1]===t[1]&&e.onGameOver()}))}},{key:"checkIfEat",value:function(){for(var e=this.state.snakeDots[this.state.snakeDots.length-1],t=this.state.foods,n=-1,a=0;a<t.length;a++){var r=t[a];r[0]===e[0]&&r[1]===e[1]&&(n=a)}n>-1&&(t.splice(n,1),this.props.onScoreIncrement(),this.growSnake(),this.increaseSpeed())}},{key:"getRandomCoords_Safe",value:function(){for(var e=this,t=function(){var t=S(),n=Object(h.a)(e.state.snakeDots),a=!0;if(n.forEach((function(e){t[0]===e[0]&&t[1]===e[1]&&(a=!1)})),a)return{v:t}};;){var n=t();if("object"===typeof n)return n.v}}},{key:"growSnake",value:function(){var e=Object(h.a)(this.state.snakeDots);e.unshift([]),this.setState({snakeDots:e})}},{key:"increaseSpeed",value:function(){this.state.speed>10&&this.setState({speed:this.state.speed-10})}},{key:"resetGameState",value:function(){this.setState(j)}},{key:"calculateSpeed",value:function(){return 300+30*this.props.upgrades["Snake Speed"]}},{key:"render",value:function(){return r.a.createElement(y,{className:"board"},r.a.createElement(k,{snakeDots:this.state.snakeDots}),r.a.createElement(O,{dots:this.state.foods}))}}]),n}(a.Component),x=(n(32),n(22)),D=n(35),I=n(36),N=n(14),R=n(23);function G(){var e=Object(f.a)(["\n  margin-left: 10px;\n"]);return G=function(){return e},e}function C(){var e=Object(f.a)(["\n  flex: 1;\n  background: teal;\n  overflow-y: scroll;\n  width: 100%;\n"]);return C=function(){return e},e}function F(){var e=Object(f.a)([""]);return F=function(){return e},e}var M=Object(p.a)(R.a)(F()),T=p.a.div(C()),U=Object(p.a)(N.a)(G());var z=function(e){var t=Object.entries(e.upgrades);return r.a.createElement(T,null,t.map((function(t,n){return r.a.createElement(M,{variant:"primary",block:!0,size:"lg",key:n,name:t[0],onClick:e.onUpgrade},t[0],r.a.createElement(U,{variant:"dark"},t[1]))})))};function H(){var e=Object(f.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 24px;\n  background-color: white;\n  opacity: 0.5;\n  z-index: 0;\n"]);return H=function(){return e},e}function W(){var e=Object(f.a)(["\n  position: relative;\n  width: auto;\n  height: auto;\n  text-align: center;\n  z-index: 1;\n"]);return W=function(){return e},e}var B=p.a.div(W()),L=p.a.div(H()),P=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"shop"},r.a.createElement("div",{className:"food-display-bar"},r.a.createElement(L,null),r.a.createElement(B,null,"Food: ",r.a.createElement(N.a,{variant:"dark"},this.props.score))),r.a.createElement(z,{className:"shop",upgrades:this.props.upgrades,onUpgrade:this.props.upgradeHandler}))}}]),n}(a.Component);function A(){var e=Object(f.a)(["\n  margin: 0;\n  padding: 0;\n"]);return A=function(){return e},e}function J(){var e=Object(f.a)(["\n  border-left: 6px solid black;\n  height: 100%;\n  position: absolute;\n  top: 0;\n"]);return J=function(){return e},e}var K=p.a.div(J()),_=Object(p.a)(D.a)(A()),q=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).incrementScore=function(){a.setState({score:a.state.score+1})},a.resetScore=function(){a.setState({score:0})},a.handleUpgrade=function(e){var t=e.currentTarget.getAttribute("name"),n=Object(c.a)({},a.state).upgrades;n[t]=n[t]+1,a.setState({upgrades:n})},a.state={score:0,upgrades:{"Snake Speed":0,"Max Food":2,u2:0,u3:0}},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state.upgrades;return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{fluid:!0,style:{backgroundColor:"teal"}},r.a.createElement(I.a,{style:{height:"100vh"}},r.a.createElement(_,{className:"shop-area"},r.a.createElement(P,{score:this.state.score,upgradeHandler:this.handleUpgrade,upgrades:e}),r.a.createElement(K,{style:{right:"0",zIndex:"10",marginRight:"-2px"}})),r.a.createElement(_,{xs:6,className:"game-area no-padding"},r.a.createElement(w,{onScoreIncrement:this.incrementScore,onScoreReset:this.resetScore,upgrades:e})),r.a.createElement(_,{className:"third-area",id:"no-padding"},r.a.createElement(K,{style:{left:"0",zIndex:"10",marginLeft:"-2px"}})))))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(a.StrictMode,null,r.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.0b61f81b.chunk.js.map